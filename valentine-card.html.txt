index.html
<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Ultimate Valentineâ€™s Card</title>
<link href="https://fonts.googleapis.com/css2?family=Dancing+Script&display=swap" rel="stylesheet">
<link rel="stylesheet" href="https://unpkg.com/leaflet/dist/leaflet.css" />
<style>
body, html { margin:0; padding:0; font-family: Arial, sans-serif; background: linear-gradient(to bottom, #ffc1cc, #ffe0e6); overflow-x:hidden; }
.heart { position:absolute; font-size:24px; color:#ff4d6d; animation:fall linear infinite; }
@keyframes fall { 0%{transform:translateY(-50px) rotate(0deg);opacity:1;} 100%{transform:translateY(100vh) rotate(360deg);opacity:0;} }
.envelope-container { text-align:center; margin-top:50px; }
.envelope { width:300px; height:200px; margin:auto; perspective:1000px; cursor:pointer; position:relative; }
.flap { width:100%; height:50%; background:#ff7f9f; transform-origin:top; transition:transform 1s; position:absolute; top:0; left:0; border-radius:10px 10px 0 0; }
.envelope.open .flap { transform:rotateX(-180deg); }
.message { position:absolute; top:60px; left:0; width:100%; color:#fff; font-family:'Dancing Script', cursive; font-size:24px; text-align:center; opacity:0; transition:opacity 1s; }
.envelope.open .message { opacity:1; }
#musicBtn { position:fixed; top:20px; right:20px; font-size:24px; cursor:pointer; }
.gallery-frame { width:80%; margin:30px auto; display:flex; flex-wrap:wrap; border-image:url('https://i.imgur.com/0s5g6XW.png') 30 round; border-width:20px; border-style:solid; padding:10px; gap:10px; }
.gallery-frame img { width:150px; height:150px; object-fit:cover; border-radius:10px; }
#countdown { text-align:center; font-size:24px; margin-top:20px; color:#d61f53; }
#poem-display { text-align:center; font-family:'Dancing Script', cursive; font-size:22px; margin:20px; color:#ff3366; }
.wax-seals { text-align:center; margin:10px; }
.wax-seals img { width:50px; cursor:pointer; margin:0 5px; }
#map { width:80%; height:300px; margin:20px auto; border-radius:10px; }
button,input { padding:10px 20px; font-size:16px; cursor:pointer; margin:10px; border-radius:5px; border:none; }
#yes,#valYes { background-color:#ff4d6d; color:white; }
#no,#valNo { background-color:#aaa; color:white; }
#valentinePrompt { text-align:center; margin-top:30px; }
#reaction { margin-top:20px; font-size:24px; color:#ff3366; }
img.catGif { max-width:50%; display:none; border-radius:10px; margin-top:20px; }
</style>
</head>
<body>

<div id="hearts"></div>

<!-- Music -->
<button id="musicBtn">ðŸŽµ</button>
<audio id="bg-music" loop>
  <source src="https://www.soundhelix.com/examples/mp3/SoundHelix-Song-1.mp3" type="audio/mp3">
</audio>

<!-- Envelope -->
<div class="envelope-container">
  <div class="envelope" id="envelope">
    <div class="flap"></div>
    <div class="message" id="message">Happy Valentine's Day! ðŸ’–</div>
  </div>
</div>

<div style="text-align:center; margin-top:10px;">
  <input type="text" id="userMessage" placeholder="Type your message...">
  <button onclick="updateMessage()">Set Message</button>
</div>

<!-- Photo Gallery -->
<div class="gallery-frame" id="gallery">
  <input type="file" id="photoUpload" multiple accept="image/*" onchange="uploadPhotos(event)">
</div>

<!-- Countdown -->
<div id="countdown"></div>

<!-- Poem Generator -->
<div style="text-align:center;">
  <button onclick="generatePoem()">Generate Secret Poem ðŸ’Œ</button>
  <div id="poem-display"></div>
</div>

<!-- Wax Seals -->
<div class="wax-seals">
  <img src="https://i.imgur.com/X7D2E3q.png" onclick="setSeal(this.src)">
  <img src="https://i.imgur.com/w6Xj5UY.png" onclick="setSeal(this.src)">
  <img src="https://i.imgur.com/Y9QfP0t.png" onclick="setSeal(this.src)">
</div>

<!-- Map -->
<div id="map"></div>

<!-- Will you be my Valentine? -->
<div id="valentinePrompt">
  <h1>Will you be my Valentine? ðŸ’–</h1>
  <button id="valYes">YES</button>
  <button id="valNo">NO</button>
  <div id="reaction"></div>
  <img class="catGif" src="https://media.giphy.com/media/3oriO0OEd9QIDdllqo/giphy.gif" alt="Sad Cat">
</div>

<script src="https://unpkg.com/leaflet/dist/leaflet.js"></script>
<script>
// Falling Hearts
for(let i=0;i<30;i++){let h=document.createElement('div');h.className='heart';h.style.left=Math.random()*window.innerWidth+'px';h.style.animationDuration=(5+Math.random()*5)+'s';h.innerHTML='â¤ï¸';document.body.appendChild(h);}

// Envelope toggle
const envelope=document.getElementById('envelope');envelope.addEventListener('click',()=>envelope.classList.toggle('open'));

// Music toggle
const musicBtn=document.getElementById('musicBtn');const bgMusic=document.getElementById('bg-music');musicBtn.addEventListener('click',()=>bgMusic.paused?bgMusic.play():bgMusic.pause());

// Update message
function updateMessage(){const m=document.getElementById('userMessage').value;document.getElementById('message').innerText=m||"Happy Valentine's Day! ðŸ’–";}

// Photo gallery
function uploadPhotos(e){const g=document.getElementById('gallery');for(let f of e.target.files){const r=new FileReader();r.onload=function(ev){const img=document.createElement('img');img.src=ev.target.result;g.appendChild(img);};r.readAsDataURL(f);}}

// Countdown
const valentine=new Date(new Date().getFullYear(),1,14).getTime();setInterval(()=>{const now=new Date().getTime();const d=valentine-now;const days=Math.floor(d/(1000*60*60*24));const h=Math.floor((d%(1000*60*60*24))/(1000*60*60));const m=Math.floor((d%(1000*60*60))/(1000*60));const s=Math.floor((d%(1000*60))/1000);document.getElementById('countdown').innerText=`${days}d ${h}h ${m}m ${s}s`;},1000);

// Poem
const poems=["Your smile lights up my darkest days...","Every moment with you is a treasure...","Like stars in the sky, our love shines endlessly...","You are my heart, my soul, my everything..."];
function generatePoem(){const i=Math.floor(Math.random()*poems.length);document.getElementById('poem-display').innerText=poems[i];}

// Wax Seal
function setSeal(src){const f=document.querySelector('.flap');f.style.backgroundImage=`url(${src})`;f.style.backgroundSize='50px 50px';f.style.backgroundRepeat='no-repeat';f.style.backgroundPosition='center';}

// Map
const map=L.map('map').setView([27.7172,85.3240],13);L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png',{attribution:'&copy; OpenStreetMap contributors'}).addTo(map);map.on('click',e=>{L.marker(e.latlng).addTo(map).bindPopup('ðŸ’– Memory here!').openPopup();});

// Valentine YES/NO
const valYes=document.getElementById('valYes');
const valNo=document.getElementById('valNo');
const reaction=document.getElementById('reaction');
const catGif=document.querySelector('.catGif');

valYes.addEventListener('click',()=>{reaction.innerText="Yay! ðŸ’• I'm so happy! ðŸ˜"; catGif.style.display='none';});
valNo.addEventListener('click',()=>{reaction.innerText="Oh no... ðŸ˜¿"; catGif.style.display='block';});
</script>

</body>
</html>